<%# This is the form for creating a new rental %>
<%# create a new rental by selecting a start date and end date in the format YYYY-MM_DD%>
<%# the start_date can't be prior to today%>
<%# the end_date can't be prior to the start_date%>
<div class="form-container">
  <h2>Rent the <%= @starship.name %></h2>
  <div class="rental-container" data-controller='rental' data-rental-price-per-day-value="<%= @starship.price_per_day %>">
    <%= form_for [@starship, @rental] do |f| %>
      <div class="field">
        <%= f.label :start_date %><br>
        <%= f.date_field :start_date, min: Date.today, data: { action: "change->rental#calculateSum", "rental-target": "startDate" } %>
      </div>
      <div class="field">
        <%= f.label :end_date %><br>
        <%= f.date_field :end_date, min: Date.tomorrow, data: { action: "change->rental#calculateSum", "rental-target": "endDate" } %>
      </div>
      <div class="actions">
        <%= f.submit data: {"rental-target": "bookButton"}, disabled: true%>
      </div>
    <% end %>
    <div>
      <input type="label" id='rental-price-label' data-rental-target='calculatePrice' disabled>
    </div>
  </div>
  <div class="field">
    <%= f.label :end_date %><br>
    <%= f.date_field :end_date, min: Date.today %>
  </div>
  <div class="actions">
    <%= f.submit "Confirm booking" %>
  </div>
<% end %>
